var ns_=ns_||{};ns_.StreamSense=ns_.StreamSense||function(){function t(t){r=t}function n(t){i=t}function e(t,n){var e=t||"",s="undefined",i=u.comScore||u.sitestat||function(t){var n,e,i,l,o,_="comScore=",c=a.cookie,f="",p="indexOf",g="substring",m="length",d=2048,v="&ns_",y="&",E=u.encodeURIComponent||escape;if(c[p](_)+1)for(l=0,i=c.split(";"),o=i[m];o>l;l++)e=i[l][p](_),e+1&&(f=y+unescape(i[l][g](e+_[m])));t+=v+"_t="+ +new Date+v+"c="+(a.characterSet||a.defaultCharset||"")+f,t[m]>d&&t[p](y)>0&&(n=t[g](0,d-8).lastIndexOf(y),t=(t[g](0,n)+v+"cut="+E(t[g](n+1)))[g](0,d)),r(t),typeof ns_p===s&&(ns_p={src:t}),ns_p.lastMeasurement=t};if(typeof n!==s){var l=[],o=u.encodeURIComponent||escape;for(var _ in n)n.hasOwnProperty(_)&&l.push(o(_)+"="+o(n[_]));/[\?\&]$/.test(e)||(e+="&"),e+=l.join("&")}return i(e)}function s(t,n){for(var e,s=2048,r=u.encodeURIComponent||escape,i=[],l=p.LABELS_ORDER,o=t.split("?"),_=o[0],c=o[1],f=c.split("&"),g=0,m=f.length;m>g;g++){var d=f[g].split("="),v=unescape(d[0]),y=unescape(d[1]);v&&(n[v]=y)}for(var E={},g=0,m=l.length;m>g;g++){var P=l[g];n.hasOwnProperty(P)&&(E[P]=!0,i.push(r(P)+"="+r(n[P])))}for(var P in n)E[P]||n.hasOwnProperty(P)&&i.push(r(P)+"="+r(n[P]));return e=_+"?"+i.join("&"),e=e+(e.indexOf("&c8=")<0?"&c8="+r(a.title):"")+(e.indexOf("&c7=")<0?"&c7="+r(a.URL):"")+(e.indexOf("&c9=")<0?"&c9="+r(a.referrer):""),e.length>s&&e.indexOf("&")>0&&(last=e.substr(0,s-8).lastIndexOf("&"),e=(e.substring(0,last)+"&ns_cut="+r(e.substring(last+1))).substr(0,s)),e}var r=function(t,n){},i=function(t,n,e){};t(function(t,n){var e=new Image;e.src=t,n&&setTimeout(n,0)}),n(function(t,n,e){e&&setTimeout(e,0)});var u,a,l="undefined"!=typeof window&&"undefined"!=typeof document;l?(u=window,a=document):(u={},a={location:{href:""},title:"",URL:"",referrer:"",cookie:""});var o=function(){var t={uid:function(){var t=1;return function(){return+new Date+"_"+t++}}(),filter:function(t,n){var e={};for(var s in n)n.hasOwnProperty(s)&&t(n[s])&&(e[s]=n[s]);return e},extend:function(t){var n,e=arguments.length;t=t||{};for(var s=1;e>s;s++)if(n=arguments[s])for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);return t},getString:function(t,n){var e=String(t);return null==t?n||"na":e},getLong:function(t,n){var e=Number(t);return null==t||isNaN(e)?n||0:e},getInteger:function(t,n){var e=Number(t);return null==t||isNaN(e)?n||0:e},getBoolean:function(t,n){var e="true"==String(t).toLowerCase();return null==t?n||!1:e},isNotEmpty:function(t){return null!=t&&t.length>0},indexOf:function(n,e){var s=-1;return t.forEach(e,function(t,e){t==n&&(s=e)}),s},forEach:function(t,n,e){try{if("function"==typeof n)if(e="undefined"!=typeof e?e:null,"number"!=typeof t.length||"undefined"==typeof t[0]){var s="undefined"!=typeof t.__proto__;for(var r in t)(!s||s&&"undefined"==typeof t.__proto__[r])&&"function"!=typeof t[r]&&n.call(e,t[r],r)}else for(var r=0,i=t.length;i>r;r++)n.call(e,t[r],r)}catch(u){}},regionMatches:function(t,n,e,s,r){if(0>n||0>s||n+r>t.length||s+r>e.length)return!1;for(;--r>=0;){var i=t.charAt(n++),u=e.charAt(s++);if(i!=u)return!1}return!0},size:function(t){var n,e=0;for(var n in t)t.hasOwnProperty(n)&&e++;return e},log:function(t,n){if("undefined"!=typeof n&&n){var e=new Date,s=e.getHours()+":"+e.getMinutes()+":"+e.getSeconds();console.log(s,t)}},isTrue:function(t){return"undefined"==typeof t?!1:"string"==typeof t?(t=t.toLowerCase(),"true"===t||"1"===t||"on"===t):t?!0:!1},toString:function(n){if("undefined"==typeof n)return"undefined";if("string"==typeof n)return n;if("[object Array]"===Object.prototype.toString.call(n))return n.join(",");if(t.size(n)>0){var e="";for(var s in n)n.hasOwnProperty(s)&&(e+=s+":"+n[s]+";");return e}return n.toString()},exists:function(t){return"undefined"!=typeof t&&null!=t&&t},firstGreaterThan0:function(){for(var t=0,n=arguments.length;n>t;t++){var e=arguments[t];if(e>0)return e}return 0}};return t.filterMap=function(n,e){for(var s in n)-1==t.indexOf(s,e)&&delete n[s]},t.getKeys=function(t,n){var e,s=[];for(e in t)(!n||n.test(e))&&t.hasOwnProperty(e)&&(s[s.length]=e);return s},t}(),_=function(){var t=["play","pause","end","buffer","keep-alive","hb","custom","ad_play","ad_pause","ad_end","ad_click"];return{PLAY:0,PAUSE:1,END:2,BUFFER:3,KEEP_ALIVE:4,HEART_BEAT:5,CUSTOM:6,AD_PLAY:7,AD_PAUSE:8,AD_END:9,AD_CLICK:10,toString:function(n){return t[n]}}}(),c=function(){var t=[_.END,_.PLAY,_.PAUSE,_.BUFFER];return{IDLE:0,PLAYING:1,PAUSED:2,BUFFERING:3,toEventType:function(n){return t[n]}}}(),f={ADPLAY:_.AD_PLAY,ADPAUSE:_.AD_PAUSE,ADEND:_.AD_END,ADCLICK:_.AD_CLICK},p={STREAMSENSE_VERSION:"4.1311.28",BRIGHTCOVE_VERSION:"3.1401.20",FLOWPLAYER_VERSION:"4.1311.28",HTML5_VERSION:"4.1311.28",JWPLAYER_VERSION:"2.1401.20",VIDEOJS_VERSION:"4.1311.28",DEFAULT_PLAYERNAME:"streamsense",DEFAULT_HEARTBEAT_INTERVAL:[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}],KEEP_ALIVE_PERIOD:12e5,PAUSED_ON_BUFFERING_PERIOD:500,PAUSE_PLAY_SWITCH_DELAY:500,C1_VALUE:"19",C10_VALUE:"js",NS_AP_C12M_VALUE:"1",NS_NC_VALUE:"1",PAGE_NAME_LABEL:"name",LABELS_ORDER:["c1","c2","ns_site","ns_vsite","ns_ap_an","ns_ap_pn","ns_ap_pv","c12","name","ns_ak","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ns_ap_sv","ns_type","ns_radio","ns_nc","ns_ap_ui","ns_ap_gs","ns_st_sv","ns_st_pv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sq","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_pb","ns_st_hc","ns_st_mp","ns_st_mv","ns_st_pn","ns_st_tp","ns_st_pt","ns_st_pa","ns_st_ad","ns_st_li","ns_st_ci","ns_ap_jb","ns_ap_res","ns_ap_c12m","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_miss","ns_ts","ns_st_ca","ns_st_cp","ns_st_er","ns_st_pe","ns_st_ui","ns_st_bc","ns_st_bt","ns_st_bp","ns_st_pc","ns_st_pp","ns_st_br","ns_st_ub","ns_st_vo","ns_st_ws","ns_st_pl","ns_st_pr","ns_st_ep","ns_st_ty","ns_st_cs","ns_st_ge","ns_st_st","ns_st_dt","ns_st_ct","ns_st_de","ns_st_pu","ns_st_cu","ns_st_fee","c7","c8","c9"]},g=function(){var t=function(){function t(t,n){var s=n[t];null!=s&&(e[t]=s)}var n,e,s=this,r=0,i=0,u=0,a=0,l=0,f=0;o.extend(this,{reset:function(t){null!=t&&t.length>0?o.filterMap(e,t):e={},e.hasOwnProperty("ns_st_cl")||(e.ns_st_cl="0"),e.hasOwnProperty("ns_st_pn")||(e.ns_st_pn="1"),e.hasOwnProperty("ns_st_tp")||(e.ns_st_tp="1"),s.setPauses(0),s.setStarts(0),s.setBufferingTime(0),s.setBufferingTimestamp(-1),s.setPlaybackTime(0),s.setPlaybackTimestamp(-1)},setLabels:function(t,n){null!=t&&o.extend(e,t),s.setRegisters(e,n)},getLabels:function(){return e},setLabel:function(t,n){var e={};e[t]=n,s.setLabels(e,null)},getLabel:function(t){return e[t]},getClipId:function(){return("undefined"==typeof n||null==n)&&s.setClipId("1"),n},setClipId:function(t){n=t},setRegisters:function(n,e){var a=n.ns_st_cn;null!=a&&(s.setClipId(a),delete n.ns_st_cn),a=n.ns_st_bt,null!=a&&(u=Number(a),delete n.ns_st_bt),t("ns_st_cl",n),t("ns_st_pn",n),t("ns_st_tp",n),t("ns_st_ub",n),t("ns_st_br",n),(e==c.PLAYING||null==e)&&(a=n.ns_st_sq,null!=a&&(i=Number(a),delete n.ns_st_sq)),e!=c.BUFFERING&&(a=n.ns_st_pt,null!=a&&(l=Number(a),delete n.ns_st_pt)),(e==c.PAUSED||e==c.IDLE||null==e)&&(a=n.ns_st_pc,null!=a&&(r=Number(a),delete n.ns_st_pc))},createLabels:function(t,n){var e=n||{};return e.ns_st_cn=s.getClipId(),e.ns_st_bt=String(s.getBufferingTime()),(t==_.PLAY||null==t)&&(e.ns_st_sq=String(i)),(t==_.PAUSE||t==_.END||t==_.KEEP_ALIVE||t==_.HEART_BEAT||null==t)&&(e.ns_st_pt=String(s.getPlaybackTime()),e.ns_st_pc=String(r)),o.extend(e,s.getLabels()),e},incrementPauses:function(){r++},incrementStarts:function(){i++},getBufferingTime:function(){var t=u;return a>=0&&(t+=+new Date-a),t},setBufferingTime:function(t){u=t},getPlaybackTime:function(){var t=l;return f>=0&&(t+=+new Date-f),t},setPlaybackTime:function(t){l=t},getPlaybackTimestamp:function(){return f},setPlaybackTimestamp:function(t){f=t},getBufferingTimestamp:function(){return a},setBufferingTimestamp:function(t){a=t},getPauses:function(){return r},setPauses:function(t){r=t},getStarts:function(){return i},setStarts:function(t){i=t}}),e={},s.reset()};return t}(),m=function(){var t=function(){var t,n,e=this,s=null,r=0,i=0,u=0,a=0,l=0,f=0,p=!1;o.extend(this,{reset:function(t){null!=t&&t.length>0?o.filterMap(n,t):n={},e.setPlaylistId(+new Date+"_"+f),e.setBufferingTime(0),e.setPlaybackTime(0),e.setPauses(0),e.setStarts(0),e.setRebufferCount(0),p=!1},setLabels:function(t,s){null!=t&&o.extend(n,t),e.setRegisters(n,s)},getLabels:function(){return n},setLabel:function(t,n){var s={};s[t]=n,e.setLabels(s,null)},getLabel:function(t){return n[t]},getClip:function(){return s},getPlaylistId:function(){return t},setPlaylistId:function(n){t=n},setRegisters:function(n,e){var s=n.ns_st_sp;null!=s&&(r=Number(s),delete n.ns_st_sp),s=n.ns_st_bc,null!=s&&(u=Number(s),delete n.ns_st_bc),s=n.ns_st_bp,null!=s&&(a=Number(s),delete n.ns_st_bp),s=n.ns_st_id,null!=s&&(t=s,delete n.ns_st_id),e!=c.BUFFERING&&(s=n.ns_st_pa,null!=s&&(l=Number(s),delete n.ns_st_pa)),(e==c.PAUSED||e==c.IDLE||null==e)&&(s=n.ns_st_pp,null!=s&&(i=Number(s),delete n.ns_st_pp))},createLabels:function(n,s){var a=s||{};return a.ns_st_bp=String(e.getBufferingTime()),a.ns_st_sp=String(r),a.ns_st_id=String(t),u>0&&(a.ns_st_bc=String(u)),(n==_.PAUSE||n==_.END||n==_.KEEP_ALIVE||n==_.HEART_BEAT||null==n)&&(a.ns_st_pa=String(e.getPlaybackTime()),a.ns_st_pp=String(i)),(n==_.PLAY||null==n)&&(e.didFirstPlayOccurred()||(a.ns_st_pb="1",e.setFirstPlayOccurred(!0))),o.extend(a,e.getLabels()),a},incrementStarts:function(){r++},incrementPauses:function(){i++,s.incrementPauses()},setPlaylistCounter:function(t){f=t},incrementPlaylistCounter:function(){f++},addPlaybackTime:function(t){if(s.getPlaybackTimestamp()>=0){var n=t-s.getPlaybackTimestamp();s.setPlaybackTimestamp(-1),s.setPlaybackTime(s.getPlaybackTime()+n),e.setPlaybackTime(e.getPlaybackTime()+n)}},addBufferingTime:function(t){if(s.getBufferingTimestamp()>=0){var n=t-s.getBufferingTimestamp();s.setBufferingTimestamp(-1),s.setBufferingTime(s.getBufferingTime()+n),e.setBufferingTime(e.getBufferingTime()+n)}},getBufferingTime:function(){var t=a;return s.getBufferingTimestamp()>=0&&(t+=+new Date-s.getBufferingTimestamp()),t},setBufferingTime:function(t){a=t},getPlaybackTime:function(){var t=l;return s.getPlaybackTimestamp()>=0&&(t+=+new Date-s.getPlaybackTimestamp()),t},setPlaybackTime:function(t){l=t},getStarts:function(){return r},setStarts:function(t){r=t},getPauses:function(){return i},setPauses:function(t){i=t},getRebufferCount:function(){return u},incrementRebufferCount:function(){u++},setRebufferCount:function(t){u=t},didFirstPlayOccurred:function(){return p},setFirstPlayOccurred:function(t){p=t}}),s=new g,n={},e.reset()};return t}(),d=function(){var i=function(i,u){function a(t){var n=0;if(null!=ct)for(var e=0;e<ct.length;e++){var s=ct[e],r=s.playingtime;if(!r||r>t){n=s.interval;break}}return n}function l(){v();var t=a(lt.getClip().getPlaybackTime());if(t>0){var n=ft>0?ft:t;$=setTimeout(d,n)}ft=0}function f(){v();var t=a(lt.getClip().getPlaybackTime());ft=t-lt.getClip().getPlaybackTime()%t,null!=$&&v()}function g(){ft=0,gt=0,pt=0}function d(){pt++;var t=V(_.HEART_BEAT,null);N(t),ft=0,l()}function v(){null!=$&&(clearTimeout($),$=null)}function y(){P(),J=setTimeout(E,p.KEEP_ALIVE_PERIOD)}function E(){var t=V(_.KEEP_ALIVE,null);N(t),at++,y()}function P(){null!=J&&(clearTimeout(J),J=null)}function h(){S(),st.isPauseOnBufferingEnabled()&&U(c.PAUSED)&&(z=setTimeout(b,p.PAUSED_ON_BUFFERING_PERIOD))}function b(){if(X==c.PLAYING){lt.incrementRebufferCount(),lt.incrementPauses();var t=V(_.PAUSE,null);N(t),at++,X=c.PAUSED}}function S(){null!=z&&(clearTimeout(z),z=null)}function L(){null!=Q&&(clearTimeout(Q),Q=null)}function A(t){return t==c.PLAYING||t==c.PAUSED}function T(t){return t==_.PLAY?c.PLAYING:t==_.PAUSE?c.PAUSED:t==_.BUFFER?c.BUFFERING:t==_.END?c.IDLE:null}function I(t,n,e){if(L(),F(t))if(e)setTimeout(function(){I(t,n)},e);else{var s=Y(),r=it,i=x(n),u=r>=0?i-r:0;C(Y(),n),O(t,n),k(t);for(var a=0,l=et.length;l>a;a++)et[a](s,t,n,u);D(n),lt.setRegisters(n,t),lt.getClip().setRegisters(n,t);var _=V(c.toEventType(t),n);o.extend(_,n),U(q)&&(N(_),X=q,at++)}}function D(t){var n=t.ns_st_mp;null!=n&&(Z=n,delete t.ns_st_mp),n=t.ns_st_mv,null!=n&&(tt=n,delete t.ns_st_mv),n=t.ns_st_ec,null!=n&&(at=Number(n),delete t.ns_st_ec)}function N(t,n){void 0===n&&(n=!0),n&&w(t);var e=st.getPixelURL();if(W){if(!R()){var i=dt.am,u=dt.et,a=i.newApplicationMeasurement(W,u.HIDDEN,t,e);W.getQueue().offer(a)}}else e&&r(s(e,t))}function R(){var t=W.getAppContext(),n=W.getSalt(),e=W.getPixelURL();return null==t||null==n||0==n.length||null==e||0==e.length}function w(t){nt=V(null),o.extend(nt,t)}function C(t,n){var e=x(n);if(t==c.PLAYING)lt.addPlaybackTime(e),f(),P();else if(t==c.BUFFERING)lt.addBufferingTime(e),S();else if(t==c.IDLE){var s=o.getKeys(lt.getClip().getLabels());lt.getClip().reset(s)}}function O(t,n){var e=x(n),s=B(n);ut=s,t==c.PLAYING?(l(),y(),lt.getClip().setPlaybackTimestamp(e),U(t)&&(lt.getClip().incrementStarts(),lt.getStarts()<1&&lt.setStarts(1))):t==c.PAUSED?U(t)&&lt.incrementPauses():t==c.BUFFERING?(lt.getClip().setBufferingTimestamp(e),_t&&h()):t==c.IDLE&&g()}function U(t){return t!=c.PAUSED||X!=c.IDLE&&null!=X?t!=c.BUFFERING&&X!=t:!1}function B(t){var n=-1;return t.hasOwnProperty("ns_st_po")&&(n=o.getInteger(t.ns_st_po)),n}function x(t){var n=-1;return t.hasOwnProperty("ns_ts")&&(n=Number(t.ns_ts)),n}function F(t){return null!=t&&Y()!=t}function k(t){q=t,it=+new Date}function Y(){return q}function V(){var t,n;1==arguments.length?(t=c.toEventType(q),n=arguments[0]):(t=arguments[0],n=arguments[1]);var e={};if("undefined"!=typeof document){var s=document;e.c7=s.URL,e.c8=s.title,e.c9=s.referrer}return null!=n&&o.extend(e,n),e.hasOwnProperty("ns_ts")||(e.ns_ts=String(+new Date)),null!=t&&!e.hasOwnProperty("ns_st_ev")&&(e.ns_st_ev=_.toString(t)),st.isPersistentLabelsShared()&&W&&o.extend(e,W.getLabels()),o.extend(e,st.getLabels()),G(t,e),lt.createLabels(t,e),lt.getClip().createLabels(t,e),e.hasOwnProperty("ns_st_mp")||(e.ns_st_mp=Z),e.hasOwnProperty("ns_st_mv")||(e.ns_st_mv=tt),e.hasOwnProperty("ns_st_ub")||(e.ns_st_ub="0"),e.hasOwnProperty("ns_st_br")||(e.ns_st_br="0"),e.hasOwnProperty("ns_st_pn")||(e.ns_st_pn="1"),e.hasOwnProperty("ns_st_tp")||(e.ns_st_tp="1"),e.hasOwnProperty("ns_st_it")||(e.ns_st_it="c"),e.ns_st_sv=p.STREAMSENSE_VERSION,e.ns_type="hidden",e}function G(t,n){var e=n||{};if(e.ns_st_ec=String(at),!e.hasOwnProperty("ns_st_po")){var s=ut,r=x(e);(t==_.PLAY||t==_.KEEP_ALIVE||t==_.HEART_BEAT||null==t&&q==c.PLAYING)&&(s+=r-lt.getClip().getPlaybackTimestamp()),e.ns_st_po=o.getInteger(s)}return t==_.HEART_BEAT&&(e.ns_st_hc=String(pt)),e}function M(t){var n=x(t);0>n&&(t.ns_ts=String(+new Date))}function H(t,n,e){n=n||{},n.ns_st_ad=1,t>=_.AD_PLAY&&t<=_.AD_CLICK&&st.notify(t,n,e)}function K(t,n){st.notify(_.CUSTOM,t,n)}var j,q,W,z,J,Q,$,X,Z,tt,nt,et,st=this,rt=null,it=0,ut=0,at=0,lt=null,ot=!0,_t=!0,ct=p.DEFAULT_HEARTBEAT_INTERVAL,ft=0,pt=0,gt=0,mt=!1,dt={};o.extend(this,{reset:function(t){lt.reset(t),lt.setPlaylistCounter(0),lt.setPlaylistId(+new Date+"_1"),lt.getClip().reset(t),null==t||t.isEmpty()?j={}:o.filterMap(j,t),at=1,pt=0,f(),g(),P(),S(),L(),q=c.IDLE,it=-1,X=null,Z=p.DEFAULT_PLAYERNAME,tt=p.STREAMSENSE_VERSION,nt=null},notify:function(){var t,n,e,s;n=arguments[0],3==arguments.length?(e=arguments[1],s=arguments[2]):(e={},s=arguments[1]),t=T(n);var r=o.extend({},e);if(M(r),r.hasOwnProperty("ns_st_po")||(r.ns_st_po=o.getInteger(s)),n==_.PLAY||n==_.PAUSE||n==_.BUFFER||n==_.END)st.isPausePlaySwitchDelayEnabled()&&F(t)&&A(q)&&A(t)?I(t,r,p.PAUSE_PLAY_SWITCH_DELAY):I(t,r);else{var i=V(n,r);o.extend(i,r),N(i,!1),at++}},getLabels:function(){return j},setLabels:function(t){null!=t&&(null==j?j=t:o.extend(j,t))},getLabel:function(t){return j[t]},setLabel:function(t,n){null==n?delete j[t]:j[t]=n},setPixelURL:function(t){if(null==t||0==t.length)return null;var n=t.indexOf("?");if(n>=0){if(n<t.length-1){for(var e=t.substring(n+1).split("&"),s=0,r=e.length;r>s;s++){var i=e[s],u=i.split("=");2==u.length?st.setLabel(u[0],u[1]):1==u.length&&st.setLabel(p.PAGE_NAME_LABEL,u[0])}t=t.substring(0,n+1)}}else t+="?";return rt=t},getPixelURL:function(){return rt?rt:"undefined"!=typeof ns_p&&"string"==typeof ns_p.src?rt=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?rt.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null},isPersistentLabelsShared:function(){return ot},setPersistentLabelsShared:function(t){ot=t},isPauseOnBufferingEnabled:function(){return _t},setPauseOnBufferingEnabled:function(t){_t=t},isPausePlaySwitchDelayEnabled:function(){return mt},setPausePlaySwitchDelayEnabled:function(t){mt=t},setClip:function(t,n){q==c.IDLE&&(lt.getClip().reset(),lt.getClip().setLabels(t,null),n&&lt.incrementStarts())},setPlaylist:function(t){q==c.IDLE&&(lt.incrementPlaylistCounter(),lt.reset(),lt.getClip().reset(),lt.setLabels(t,null))},importState:function(t){reset();var n=o.extend({},t);lt.setRegisters(n,null),lt.getClip().setRegisters(n,null),D(n),at++},exportState:function(){return nt},getVersion:function(){return p.STREAMSENSE_VERSION},addListener:function(t){et.push(t)},removeListener:function(t){et.splice(o.indexOf(t,et),1)},getClip:function(){return lt.getClip()},getPlaylist:function(){return lt},setHttpGet:t,setHttpPost:n}),o.extend(this,{adNotify:H,customNotify:K,viewNotify:function(t,n){t=t||st.getPixelURL(),t&&e(t,n)}}),ns_.comScore&&(dt=ns_.comScore.exports,W=dt.c()),j={},at=1,q=c.IDLE,lt=new m,z=null,_t=!0,$=null,pt=0,g(),J=null,Q=null,mt=!1,X=null,ut=0,et=[],st.reset(),i&&st.setLabels(i),u&&st.setPixelURL(u)};return function(t){function n(t,n){return b[L]||s(t,n)}function e(){L=-1;for(var t=0;S>=t;t++)if(b.hasOwnProperty(t)){L=t;break}return ns_.StreamSense.activeIndex=L,L}function s(t,n){return t=t||null,n=n||null,t&&"object"==typeof t&&(n=t,t=null),b[++S]=new ns_.StreamSense(n,t),e(),b[S]}function r(){var t=!1,n=L;if("number"==typeof arguments[0]&&isFinite(arguments[0]))n=arguments[0];else if(arguments[0]instanceof ns_.StreamSense)for(var s in b)if(b[s]===arguments[0]){n=s;break}return b.hasOwnProperty(n)&&(t=b[n],delete b[n],t.reset(),e()),t}function i(t){return t=t||{},n().setPlaylist(t),n().getPlaylist()}function u(t,e,s){return t=t||{},"number"==typeof e&&(t.ns_st_cn=e),n().setClip(t,s),n().getClip()}function a(t,e,s){return"undefined"==typeof t?!1:(s=s||null,e=e||{},n().notify(t,e,s))}function l(t){"undefined"!=typeof t&&n().setLabels(t)}function _(){return n().getLabels()}function c(t){"undefined"!=typeof t&&n().getPlaylist().setLabels(t)}function f(){return n().getPlaylist().getLabels()}function p(t){"undefined"!=typeof t&&n().getClip().setLabels(t)}function g(){return n().getClip().getLabels()}function m(t){return n().reset(t||{})}function d(t){return n().getPlaylist().reset(t||{})}function v(t){return n().getClip().reset(t||{})}function y(t){return t=t||{},n().viewNotify(null,t)}function E(t,e){return arguments.length>2&&(t=arguments[1],e=arguments[2]),t=t||{},"number"==typeof e&&(t.ns_st_po=e),n().customNotify(t,e)}function P(){return n().exportState()}function h(t){n().importState(t)}var b={},S=-1,L=-1;o.extend(t,{activeIndex:L,newInstance:s,"new":s,destroyInstance:r,destroy:r,newPlaylist:i,newClip:u,notify:a,setLabels:l,getLabels:_,setPlaylistLabels:c,getPlaylistLabels:f,setClipLabels:p,getClipLabels:g,resetInstance:m,resetPlaylist:d,resetClip:v,viewEvent:y,customEvent:E,exportState:P,importState:h})}(i),i}();return d.AdEvents=f,d.PlayerEvents=_,d}(),function(){var t=[].slice;!function(n){var e,s,r,i,u,a,l;return u=function(t){return"[object Array]"===toString.call(t)},a=function(t){return!isNaN(parseInt(t,10))},i=function(t){var n,e,s;for(n=void 0,e=void 0,s=void 0,e=1;e<arguments.length;){n=arguments[e];for(s in n)n.hasOwnProperty(s)&&(t[s]=n[s]);e++}return t},l={ad:"ad",premium:"premium",ugc:"ugc",live:"live",duration:"duration",index:"index",id:"id",name:"name",publisher:"publisher",show:"show",url:"url",classification:"classificaiton"},s={video:{shortform:{premium:"vc11",ugc:"vc21"},longform:{premium:"vc12",ugc:"vc22"},live:{premium:"vc13",ugc:"vc23"},audio:"ac00","default":"vc00"},ad:{preroll:"va11",midroll:"va12",postroll:"va13",live:"va21",audio:"aa00","default":"va00"}},e=function(){function n(t,n){this.ad(n[l.ad]),this.premium(n[l.premium]),this.ugc(n[l.ugc]),this.duration(n[l.duration]),this.index(t),this.id(n[l.id]),this.name(n[l.name]),this.publisher(n[l.publisher]),this.show(n[l.show]),this.url(n[l.url]),this.classification(n[l.classification])}var e,r,i;return r=!1,i=!1,e=!1,n.prototype.ns_st_ad=!1,n.prototype.ns_st_cl=null,n.prototype.ns_st_cn=null,n.prototype.ns_st_ci=null,n.prototype.ns_st_ep=null,n.prototype.ns_st_pu=null,n.prototype.ns_st_pr=null,n.prototype.ns_st_cu=null,n.prototype.ns_st_ct=null,n.prototype.ad=function(){var n,e;return n=1<=arguments.length?t.call(arguments,0):[],e=null!=n?n[0]:void 0,(null!=e?e.toString():void 0)&&(this.ns_st_ad=e),this.ns_st_ad},n.prototype.ugc=function(){var n,e;return n=1<=arguments.length?t.call(arguments,0):[],e=null!=n?n[0]:void 0,(null!=e?e.toString():void 0)&&(i=e),i},n.prototype.premium=function(){var n,e;return n=1<=arguments.length?t.call(arguments,0):[],e=null!=n?n[0]:void 0,(null!=e?e.toString():void 0)&&(r=e),r},n.prototype.live=function(){var n,s;return n=1<=arguments.length?t.call(arguments,0):[],s=null!=n?n[0]:void 0,(null!=s?s.toString():void 0)&&(e=s),e},n.prototype.duration=function(t,n){return n&&(t=1e3*t),t&&(this.ns_st_cl=Math.round(t)),this.ns_st_cl||0},n.prototype.index=function(t){return t&&(this.ns_st_cn=t),this.ns_st_cn},n.prototype.id=function(t){return t&&(this.ns_st_ci=t),this.ns_st_ci},n.prototype.name=function(t){return t&&(this.ns_st_ep=t),this.ns_st_ep},n.prototype.publisher=function(t){return t&&(this.ns_st_pu=t),this.ns_st_pu},n.prototype.show=function(t){return t&&(this.ns_st_pr=t),this.ns_st_pr},n.prototype.url=function(t){return t&&(this.ns_st_cu=t),this.ns_st_cu},n.prototype.classification=function(t){var n;return t&&(this.ns_st_ct=t),n=function(t){return function(){return t.duration()/1e3>=600}}(this),this.ad()?this.ns_st_ct=s.ad.preroll:this.live()?(this.premium()&&(this.ns_st_ct=s.video.live.premium),this.ugc()&&(this.ns_st_ct=s.video.live.ugc)):n()?(this.premium()&&(this.ns_st_ct=s.video.longform.premium),this.ugc()&&(this.ns_st_ct=s.video.longform.ugc)):(this.premium()&&(this.ns_st_ct=s.video.shortform.premium),this.ugc()&&(this.ns_st_ct=s.video.shortform.ugc)),this.ns_st_ct||(this.ns_st_ct=s.video["default"]),this.ns_st_ct},n}(),r=function(t,n,r){var o,_,c,f,p,g,m,d,v,y,E,P,h,b,S,L,A,T,I,D,N;if(!a(t))throw new Error("The first argument should be your comScore ID");if(!u(n))throw new Error("The second argument should be an array (can be empty)");return m={BUFFER:ns_.StreamSense.PlayerEvents.BUFFER,END:ns_.StreamSense.PlayerEvents.END,PLAY:ns_.StreamSense.PlayerEvents.PLAY,PAUSE:ns_.StreamSense.PlayerEvents.PAUSE},L=this,D=new ns_.StreamSense({},"http://b.scorecardresearch.com/p?c1=2&c2="+t),f=null,c=[],r&&(l=i({},l,r)),p=0,I=!1,T=0,P=function(){return c=h(n),c.length>0?D.setPlaylist(c):void 0},h=function(t){return t.map(function(t,n){return new e(n,t)})},d=function(t){var n,e,s;for(e=0,s=c.length;s>e;e++)if(n=c[e],t===n.url())return n;return c[0]},y=function(){return d(L.currentSrc())},E=function(){return Math.round(1e3*L.currentTime())},v=function(t){return t>=0?c[t]:c},N=function(){return f=y(),f.url(L.currentSrc()),f.duration(L.duration(),!0),D.getClip().setLabel("ns_st_cu",L.currentSrc()),D.getClip().setLabel("ns_st_cl",f.duration(L.duration(),!0)),D.setClip(f)},_=function(){var t;return t=!I&&T++>3,t&&p===E()?(I=!0,T=0,o(p),!0):I&&p!==E()?(S(p),I=!1,T=0,!1):!1},S=function(t){return D.notify(m.PLAY,{},t)},b=function(t){return D.notify(m.PAUSE,{},t)},g=function(t){return D.notify(m.END,{},t)},o=function(t){return D.notify(m.BUFFER,{},t)},A=function(){return _(),N(),p=E()},L.on("timeupdate",function(){return N()}),L.on("play",function(){return S(p)}),L.on("ended",function(){return g(f.duration())}),L.on("pause",function(){return b(p)}),L.on("progress",A),L.comscore={play:S,pause:b,end:g,buffer:o,getClips:v,getCurrentClip:y,updateLoadedClip:N,classificationTypes:s},P(),L.comscore},n.plugin("comscore",r)}(window.videojs)}.call(this);
//# sourceMappingURL=videojs.comscore.js.map